<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cyberpunk Pong Wars</title>
    <meta
      name="description"
      content="The eternal battle between neon and shadow in a cyberpunk world. Written in JavaScript with some HTML & CSS in one index.html."
    />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
      
      html {
        height: 100%;
      }

      body {
        height: 100%;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #0a0a0a 0%, #1a0b2e 50%, #16213e 100%);
        overflow: hidden;
        position: relative;
        cursor: none; /* hide default cursor */
      }

      body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: 
          repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(255, 0, 255, 0.03) 2px,
            rgba(255, 0, 255, 0.03) 4px
          );
        pointer-events: none;
        z-index: 1;
      }

      #container {
        display: flex;
        align-items: center;
        flex-direction: column;
        width: min(70vh, 80%);
        max-width: 600px;
        height: 100%;
        z-index: 2;
        position: relative;
      }

      canvas {
        display: block;
        border-radius: 4px;
        overflow: hidden;
        width: 100%;
        margin-top: auto;
        box-shadow: 
          0 0 40px rgba(255, 0, 255, 0.5),
          0 0 80px rgba(0, 255, 255, 0.3),
          inset 0 0 20px rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 0, 255, 0.3);
        position: relative;
      }

      #score {
        font-family: 'Orbitron', monospace;
        margin-top: 30px;
        font-size: 18px;
        font-weight: 700;
        padding-left: 20px;
        color: #00ffff;
        text-shadow: 
          0 0 10px rgba(0, 255, 255, 0.8),
          0 0 20px rgba(0, 255, 255, 0.5),
          0 0 30px rgba(0, 255, 255, 0.3);
        letter-spacing: 2px;
        text-transform: uppercase;
      }

      #score .neon {
        color: #ff00ff;
        text-shadow: 
          0 0 10px rgba(255, 0, 255, 0.8),
          0 0 20px rgba(255, 0, 255, 0.5),
          0 0 30px rgba(255, 0, 255, 0.3);
      }

      #score .shadow {
        color: #00ffff;
        text-shadow: 
          0 0 10px rgba(0, 255, 255, 0.8),
          0 0 20px rgba(0, 255, 255, 0.5),
          0 0 30px rgba(0, 255, 255, 0.3);
      }

      #made {
        text-align: center;
        line-height: 1.5;
        font-family: 'Orbitron', monospace;
        margin-top: auto;
        margin-bottom: 20px;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: #ff00ff;
        opacity: 0.7;
      }

      #made a {
        color: #00ffff;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      #made a:hover {
        color: #ff00ff;
        text-shadow: 0 0 10px rgba(255, 0, 255, 0.8);
      }

      @keyframes glitch {
        0% { transform: translate(0); }
        20% { transform: translate(-1px, 1px); }
        40% { transform: translate(-1px, -1px); }
        60% { transform: translate(1px, 1px); }
        80% { transform: translate(1px, -1px); }
        100% { transform: translate(0); }
      }

      .glitch {
        animation: glitch 0.3s infinite;
      }

      /* === Custom Neon Cursor === */
      .neon-cursor {
        position: fixed;
        top: 0;
        left: 0;
        width: 18px;
        height: 18px;
        border: 2px solid #00ff7f;
        border-radius: 50%;
        pointer-events: none;
        z-index: 999999; /* stay above everything */
        transform: translate(-50%, -50%);
        box-shadow: 0 0 15px rgba(0,255,127,0.6);
        transition: transform 0.08s ease-out, box-shadow 0.2s ease-out;
      }
    </style>
  </head>

  <body>
    <div id="container">
      <canvas id="pongCanvas" width="600" height="600"></canvas>
      <div id="score"></div>
      <p id="made">
        made by
        <a href="https://koenvangilst.nl/labs/pong-wars">M4lw4r3Mus4shi</a> | source on
        <a href="https://github.com/vnglst/pong-wars">github</a>
      </p>
    </div>

    <script>
      // === Cyberpunk Pong Wars Game ===
      const colorPalette = {
        NeonPink: "#ff00ff",
        ElectricCyan: "#00ffff",
        DeepPurple: "#7209b7",
        DarkVoid: "#0a0a0a",
        NeonGreen: "#39ff14",
        HotMagenta: "#ff006e",
        CyberBlue: "#00d4ff",
        ShadowPurple: "#2d1b69"
      };

      const canvas = document.getElementById("pongCanvas");
      const ctx = canvas.getContext("2d");
      const scoreElement = document.getElementById("score");
      const DAY_COLOR = colorPalette.ShadowPurple;
      const DAY_BALL_COLOR = colorPalette.ElectricCyan;
      const NIGHT_COLOR = colorPalette.DarkVoid;
      const NIGHT_BALL_COLOR = colorPalette.NeonPink;
      const SQUARE_SIZE = 25;
      const MIN_SPEED = 5;
      const MAX_SPEED = 10;
      const TRAIL_LENGTH = 20;
      const numSquaresX = canvas.width / SQUARE_SIZE;
      const numSquaresY = canvas.height / SQUARE_SIZE;
      let dayScore = 0;
      let nightScore = 0;
      const squares = [];
      const trails = { ball1: [], ball2: [] };
      const particles = [];
      const MAX_PARTICLES = 200;

      class Particle {
        constructor(x, y, color, type = 'square') {
          this.x = x;
          this.y = y;
          this.color = color;
          this.type = type;
          const angle = Math.random() * Math.PI * 2;
          const speed = type === 'ball' ? Math.random() * 8 + 4 : Math.random() * 4 + 2;
          this.vx = Math.cos(angle) * speed;
          this.vy = Math.sin(angle) * speed;
          this.size = Math.random() * 4 + 2;
          this.life = 1;
          this.decay = 0.02;
          this.gravity = type === 'ball' ? 0 : 0.1;
          this.trail = [];
        }
        update() {
          if (this.life > 0.5) {
            this.trail.push({ x: this.x, y: this.y, life: this.life });
            if (this.trail.length > 5) this.trail.shift();
          }
          this.x += this.vx;
          this.y += this.vy;
          this.vy += this.gravity;
          this.vx *= 0.98;
          this.vy *= 0.98;
          this.life -= this.decay;
        }
        draw(ctx) {
          if (this.life <= 0) return;
          this.trail.forEach((p, i) => {
            const t = (i / this.trail.length) * this.life * 0.3;
            ctx.globalAlpha = t;
            ctx.fillStyle = this.color;
            ctx.fillRect(p.x - 1, p.y - 1, 2, 2);
          });
          ctx.globalAlpha = this.life;
          const g = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size * 2);
          g.addColorStop(0, this.color);
          g.addColorStop(0.4, this.color + '80');
          g.addColorStop(1, 'transparent');
          ctx.fillStyle = g;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size * 2, 0, Math.PI * 2);
          ctx.fill();
          ctx.globalAlpha = 1;
        }
      }

      function createParticles(x, y, color, count, type = 'square') {
        for (let i = 0; i < count; i++) if (particles.length < MAX_PARTICLES) particles.push(new Particle(x, y, color, type));
      }

      function updateParticles() {
        for (let i = particles.length - 1; i >= 0; i--) {
          particles[i].update();
          if (particles[i].life <= 0) particles.splice(i, 1);
        }
      }

      function drawParticles(ctx) { particles.forEach(p => p.draw(ctx)); }

      for (let i = 0; i < numSquaresX; i++) {
        squares[i] = [];
        for (let j = 0; j < numSquaresY; j++) squares[i][j] = i < numSquaresX / 2 ? DAY_COLOR : NIGHT_COLOR;
      }

      const balls = [
        { x: canvas.width / 4, y: canvas.height / 2, dx: 8, dy: -8, reverseColor: DAY_COLOR, ballColor: DAY_BALL_COLOR, trailKey: 'ball1', glowColor: colorPalette.ElectricCyan },
        { x: (canvas.width / 4) * 3, y: canvas.height / 2, dx: -8, dy: 8, reverseColor: NIGHT_COLOR, ballColor: NIGHT_BALL_COLOR, trailKey: 'ball2', glowColor: colorPalette.NeonPink }
      ];

      function updateTrail(ball) {
        const trail = trails[ball.trailKey];
        trail.push({ x: ball.x, y: ball.y });
        if (trail.length > TRAIL_LENGTH) trail.shift();
      }

      function drawTrail(ball) {
        const trail = trails[ball.trailKey];
        trail.forEach((point, index) => {
          const opacity = (index / trail.length) * 0.6;
          const radius = (SQUARE_SIZE / 2) * (index / trail.length) * 0.8;
          ctx.beginPath();
          ctx.arc(point.x, point.y, radius, 0, Math.PI * 2);
          const gradient = ctx.createRadialGradient(point.x, point.y, 0, point.x, point.y, radius);
          gradient.addColorStop(0, ball.ballColor + Math.floor(opacity * 255).toString(16).padStart(2, '0'));
          gradient.addColorStop(1, 'transparent');
          ctx.fillStyle = gradient;
          ctx.fill();
        });
      }

      function drawBall(ball) {
        drawTrail(ball);
        ctx.beginPath();
        ctx.arc(ball.x, ball.y, SQUARE_SIZE / 2 + 5, 0, Math.PI * 2);
        const glow = ctx.createRadialGradient(ball.x, ball.y, 0, ball.x, ball.y, SQUARE_SIZE / 2 + 5);
        glow.addColorStop(0, ball.glowColor + '40');
        glow.addColorStop(1, 'transparent');
        ctx.fillStyle = glow;
        ctx.fill();
        ctx.beginPath();
        ctx.arc(ball.x, ball.y, SQUARE_SIZE / 2, 0, Math.PI * 2);
        const g = ctx.createRadialGradient(ball.x - 3, ball.y - 3, 0, ball.x, ball.y, SQUARE_SIZE / 2);
        g.addColorStop(0, ball.ballColor);
        g.addColorStop(1, ball.glowColor);
        ctx.fillStyle = g;
        ctx.fill();
      }

      function drawSquares() {
        dayScore = nightScore = 0;
        for (let i = 0; i < numSquaresX; i++) {
          for (let j = 0; j < numSquaresY; j++) {
            ctx.fillStyle = squares[i][j];
            ctx.fillRect(i * SQUARE_SIZE, j * SQUARE_SIZE, SQUARE_SIZE, SQUARE_SIZE);
            if (squares[i][j] === DAY_COLOR) dayScore++;
            if (squares[i][j] === NIGHT_COLOR) nightScore++;
          }
        }
      }

      function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        drawSquares();
        updateParticles();
        drawParticles(ctx);
        scoreElement.innerHTML = `<span class="neon">NEON ${dayScore}</span> | <span class="shadow">SHADOW ${nightScore}</span>`;
        balls.forEach(ball => {
          updateTrail(ball);
          drawBall(ball);
          ball.x += ball.dx;
          ball.y += ball.dy;
          if (ball.x + ball.dx > canvas.width - SQUARE_SIZE / 2 || ball.x + ball.dx < SQUARE_SIZE / 2) ball.dx = -ball.dx;
          if (ball.y + ball.dy > canvas.height - SQUARE_SIZE / 2 || ball.y + ball.dy < SQUARE_SIZE / 2) ball.dy = -ball.dy;
        });
      }

      setInterval(draw, 1000 / 60);
    </script>

    <!-- === Neon Cursor Script === -->
    <script>
      const cursor = document.createElement('div');
      cursor.classList.add('neon-cursor');
      document.body.appendChild(cursor);
      document.addEventListener('mousemove', e => {
        cursor.style.left = `${e.clientX}px`;
        cursor.style.top = `${e.clientY}px`;
      });
      document.addEventListener('mousedown', () => {
        cursor.style.transform = 'translate(-50%, -50%) scale(0.8)';
        cursor.style.boxShadow = '0 0 25px rgba(0,255,127,1)';
        setTimeout(() => {
          cursor.style.transform = 'translate(-50%, -50%) scale(1)';
          cursor.style.boxShadow = '0 0 15px rgba(0,255,127,0.6)';
        }, 150);
      });
    </script>
  </body>
</html>
